# *다중 행 함수*
```TEXT
SUM
COUNT
MAX
MIN
AVG

SUM(col) = SUM(ALL col) : 합계
SUM(DISTINCT col) : 중복 값 제거 후 함수 적용

GROUPING을 하지 않았기 때문에 WHERE절로 통제 가능 (GROUPING 의 HAVING과 혼용하지 말것)
```

***


# *GROUP*
## GROUP BY
```sql  
기본 문법 순서
SELECT
  FROM
 WHERE
 GROUP BY col1, col2 ...
 HAVING 조건
 ORDER BY
```
```SQL
SELECT DEPTNO, JOB, AVG(SAL)
    FROM EMP
  GROUP BY DEPTNO, JOB
    HAVING AVG(SAL) >= 2000      -- GROUPING 된 것은 WHERE로 통제가 불가능 하다. HAVING만 이용하도록 하자.
  ORDER BY DEPTNO, JOB;
```

## 난이도 UP!
```TEXT
ROLLUP : 그룹별 통계치를 내는데 사용한다.
CUBE : 그룹별 통계치를 내는데 사용한다. 더 많은 자료가 나오고 2^n개 나오므로 적절히. 
       + order by를 해주어야 한번에 보기 쉽다.
GROUPING SETS : 열별로 각각 따로 결과를 출력해 준다.
```
## 예제
```SQL
-- ROLLUP
SELECT DEPTNO, JOB, COUNT(*), MAX(SAL), SUM(SAL), AVG(SAL)
    FROM EMP
GROUP BY ROLLUP(DEPTNO, JOB);


-- CUBE
SELECT DEPTNO, JOB, COUNT(*), MAX(SAL), SUM(SAL), AVG(SAL)
    FROM EMP
    GROUP BY CUBE(DEPTNO, JOB)
    ORDER BY DEPTNO, JOB;
    
    
-- GROUPING SETS
SELECT DEPTNO, JOB, COUNT(*)
    FROM EMP
    GROUP BY GROUPING SETS(DEPTNO, JOB)
    ORDER BY DEPTNO, JOB;
```

## GROUPING
```TEXT
그룹화 함수는 데이터 자체의 가공이나 특별한 연산 기능을 수행하지는 않지만 그룹화 데이터의 식별이 쉽고
가독성을 높이기 위한 목적으로 사용한다.
ROLLUP/CUBE를 사용한 GROUP BY절에 그룹화 대상으로 지정한 열이 그룹화된 상태로 결과가 집계되었는지 확인하는데 사용
GROUP BY절에 명시된 열 중 하나를 지정할 수 있다.
```
```SQL
SELECT DEPTNO, JOB, COUNT(*), MAX(SAL), SUM(SAL), AVG(SAL),
        GROUPING(DEPTNO),
        GROUPING(JOB)
    FROM EMP
    
    GROUP BY CUBE(DEPTNO, JOB)
    ORDER BY DEPTNO, JOB;
```
